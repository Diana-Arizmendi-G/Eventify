<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crear Evento - Eventify</title>
<link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:wght@400;600&display=swap" rel="stylesheet">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
}

body{
min-height:100vh;
font-family:'Bodoni Moda', serif;
color:#1A334A;
padding:60px 30px 120px;
overflow-x:hidden;

/* üîµ FONDO AZUL COMPLETO */
background:linear-gradient(135deg,#EAF2F5 0%,#8ca0ab 40%,#627782 100%);
}

/* VIDEO */
.video-hero{
position:relative;
height:480px;
border-radius:15px;
overflow:hidden;
margin-bottom:40px;
box-shadow:0 20px 40px rgba(0,0,0,0.25);
}

.video-hero video{
width:100%;
height:100%;
object-fit:cover;
filter:brightness(70%);
}

.video-hero h2{
position:absolute;
bottom:20px;
left:30px;
color:white;
font-size:28px;
}

/* BOT√ìN REGRESAR */
.back-btn{
position:absolute;
top:20px;
left:20px;
padding:10px 20px;
border-radius:40px;
background:rgba(255,255,255,0.4);
backdrop-filter:blur(6px);
text-decoration:none;
color:#1A334A;
transition:0.3s;
z-index:5;
}

.back-btn:hover{
background:linear-gradient(135deg,#4a7f9a,#1A334A);
color:white;
}

h1{
text-align:center;
margin-bottom:30px;
}

/* FORM */
.form-container{
max-width:600px;
margin:auto;
margin-bottom:60px;
}

input, textarea{
width:100%;
padding:14px;
margin-bottom:20px;
border-radius:30px;
border:1px solid #C9DDE6;
font-family:'Bodoni Moda', serif;
background:rgba(255,255,255,0.7);
}

textarea{
height:100px;
resize:none;
}

.button{
width:100%;
padding:16px;
border-radius:50px;
border:none;
background:linear-gradient(135deg,#4a7f9a,#1A334A);
color:white;
cursor:pointer;
transition:0.3s;
}

.button:hover{
transform:translateY(-3px);
}

.content-grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:40px;
}

/* EVENTOS */
.events-list{
background:rgba(255,255,255,0.6);
backdrop-filter:blur(8px);
padding:25px;
border-radius:30px;
}

.event-card{
background:white;
padding:15px;
border-radius:20px;
margin-bottom:15px;
box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

.countdown{
margin-top:8px;
font-size:13px;
color:#4a7f9a;
}

.event-actions{
margin-top:10px;
display:flex;
gap:10px;
}

.small-btn{
padding:6px 12px;
border:none;
border-radius:20px;
cursor:pointer;
font-size:12px;
color:white;
}

.edit-btn{
background:#4a7f9a;
}

.delete-btn{
background:#c94c4c;
}

/* CALENDARIO */
.calendar{
background:rgba(255,255,255,0.6);
backdrop-filter:blur(8px);
padding:25px;
border-radius:30px;
}

.calendar-grid{
display:grid;
grid-template-columns:repeat(7,1fr);
gap:10px;
margin-top:15px;
}

.day{
padding:10px;
border-radius:15px;
text-align:center;
background:white;
font-size:14px;
}

.day.event{
background:linear-gradient(135deg,#4a7f9a,#1A334A);
color:white;
}

/* NAV */
.navbar{
position:fixed;
bottom:0;
left:0;
width:100%;
background:white;
display:flex;
justify-content:space-around;
padding:15px 0;
box-shadow:0 -5px 20px rgba(0,0,0,0.1);
}

.navbar a{
text-decoration:none;
color:#1A334A;
font-size:20px;
}
</style>
</head>

<body>

<a href="home-organizador.html" class="back-btn">‚Üê Regresar</a>

<div class="video-hero">
<video autoplay muted loop>
<source src="video-event.mp4" type="video/mp4">
</video>
<h2>Porque tu comodidad, es nuestro placer...</h2>
</div>

<h1 id="tituloCrear">Crear Evento</h1>

<div class="form-container">
<input type="text" id="eventName" placeholder="Nombre del evento">
<input type="date" id="eventDate">
<input type="time" id="eventTime">
<input type="text" id="eventLocation" placeholder="Ubicaci√≥n">
<textarea id="eventDesc" placeholder="Descripci√≥n"></textarea>
<button class="button" onclick="saveEvent()">Guardar Evento</button>
</div>

<div class="content-grid">

<div class="events-list">
<h2>Eventos Guardados</h2>
<div id="eventsContainer"></div>
</div>

<div class="calendar">
<h2>Calendario</h2>
<div class="calendar-grid" id="calendar"></div>
</div>

</div>

<div class="navbar">
<a href="create-event.html">‚ûï</a>
<a href="search-providers.html">üîé</a>
<a href="messages.html">üí¨</a>
<a href="reports.html">üìä</a>
<a href="profile-organizer.html">üë§</a>
</div>

<script>

let events = JSON.parse(localStorage.getItem("events")) || [];
let editIndex = null;

function saveEvent(){
const name = eventName.value;
const date = eventDate.value;
const time = eventTime.value;
const location = eventLocation.value;
const desc = eventDesc.value;

if(!name || !date) return alert("Completa nombre y fecha");

if(editIndex !== null){
events[editIndex] = {name,date,time,location,desc};
editIndex = null;
}else{
events.push({name,date,time,location,desc});
}

localStorage.setItem("events", JSON.stringify(events));
clearForm();
renderEvents();
renderCalendar();
}

function getCountdown(date){
const eventDate = new Date(date);
const now = new Date();
const diff = eventDate - now;

if(diff <= 0) return "Evento finalizado";

const days = Math.floor(diff / (1000*60*60*24));
return `Faltan ${days} d√≠as`;
}

function renderEvents(){
eventsContainer.innerHTML="";
events.forEach((ev,index)=>{
eventsContainer.innerHTML += `
<div class="event-card">
<strong>${ev.name}</strong><br>
${ev.date}
<div class="countdown">${getCountdown(ev.date)}</div>
<div class="event-actions">
<button class="small-btn edit-btn" onclick="editEvent(${index})">Editar</button>
<button class="small-btn delete-btn" onclick="deleteEvent(${index})">Eliminar</button>
</div>
</div>`;
});
}

function editEvent(index){
const ev = events[index];

eventName.value = ev.name;
eventDate.value = ev.date;
eventTime.value = ev.time;
eventLocation.value = ev.location;
eventDesc.value = ev.desc;

editIndex = index;

/* üî• SCROLL AL TITULO, NO AL VIDEO */
document.getElementById("tituloCrear").scrollIntoView({
behavior: 'smooth'
});
}

function deleteEvent(index){
if(confirm("¬øEliminar evento?")){
events.splice(index,1);
localStorage.setItem("events", JSON.stringify(events));
renderEvents();
renderCalendar();
}
}

function clearForm(){
document.querySelectorAll("input, textarea").forEach(el=>el.value="");
}

function renderCalendar(){
calendar.innerHTML="";
for(let i=1;i<=31;i++){
let day=document.createElement("div");
day.classList.add("day");
day.textContent=i;

let formatted=String(i).padStart(2,'0');

events.forEach(ev=>{
if(ev.date && ev.date.split("-")[2]===formatted){
day.classList.add("event");
}
});

calendar.appendChild(day);
}
}

renderEvents();
renderCalendar();

</script>

</body>
</html>